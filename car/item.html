<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Item</title>
  <link href="../css/global.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.css' />
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.js'></script>
</head>

<body>
  <audio id="musica" preload="auto" style="display:none;" autoplay loop>
    <source src="../media/music/Hello_There.mp3" type="audio/mp3">
  </audio>
  <header>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary" aria-label="Fourth navbar example">
      <div class="container-fluid">
        <a class="navbar-brand" href="../index.html"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"
            fill="#18bc9c" class="bi bi-car-front" viewBox="0 0 16 16">
            <path
              d="M4 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm10 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2H6ZM4.862 4.276 3.906 6.19a.51.51 0 0 0 .497.731c.91-.073 2.35-.17 3.597-.17 1.247 0 2.688.097 3.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 10.691 4H5.309a.5.5 0 0 0-.447.276Z" />
            <path
              d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679c.033.161.049.325.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.807.807 0 0 0 .381-.404l.792-1.848ZM4.82 3a1.5 1.5 0 0 0-1.379.91l-.792 1.847a1.8 1.8 0 0 1-.853.904.807.807 0 0 0-.43.564L1.03 8.904a1.5 1.5 0 0 0-.03.294v.413c0 .796.62 1.448 1.408 1.484 1.555.07 3.786.155 5.592.155 1.806 0 4.037-.084 5.592-.155A1.479 1.479 0 0 0 15 9.611v-.413c0-.099-.01-.197-.03-.294l-.335-1.68a.807.807 0 0 0-.43-.563 1.807 1.807 0 0 1-.853-.904l-.792-1.848A1.5 1.5 0 0 0 11.18 3H4.82Z" />
          </svg></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExample04"
          aria-controls="navbarsExample04" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarsExample04">
          <ul class="navbar-nav me-auto mb-2 mb-md-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="../index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../contactos.html">Contacts</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../rentYourCar.html">Rent your car</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="dropdown04" data-bs-toggle="dropdown"
                aria-expanded="false">Authors</a>
              <ul class="dropdown-menu" aria-labelledby="dropdown04">
                <li><a class="dropdown-item" href="../autores.html">All</a></li>
                <div class="dropdown-divider"></div>
                <li><a class="dropdown-item" href="../autores.html?author=alex">Alexandre</a></li>
                <li><a class="dropdown-item" href="../autores.html?author=janecas">João</a></li>
                <li><a class="dropdown-item" href="../autores.html?author=manel">Manuel</a></li>
              </ul>
            </li>
          </ul>
        </div>
        <div class="d-flex nav-item">
          <a id="pararMusica" class="nav-link" onClick="stopAudio()"><svg xmlns="http://www.w3.org/2000/svg" width="32"
              height="32" fill="#18bc9c" class="bi bi-volume-up" viewBox="0 0 16 16">
              <path
                d="M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l-.708.707A7.476 7.476 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303l.708.707z" />
              <path
                d="M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.483 5.483 0 0 1 11.025 8a5.483 5.483 0 0 1-1.61 3.89l.706.706z" />
              <path
                d="M10.025 8a4.486 4.486 0 0 1-1.318 3.182L8 10.475A3.489 3.489 0 0 0 9.025 8c0-.966-.392-1.841-1.025-2.475l.707-.707A4.486 4.486 0 0 1 10.025 8zM7 4a.5.5 0 0 0-.812-.39L3.825 5.5H1.5A.5.5 0 0 0 1 6v4a.5.5 0 0 0 .5.5h2.325l2.363 1.89A.5.5 0 0 0 7 12V4zM4.312 6.39 6 5.04v5.92L4.312 9.61A.5.5 0 0 0 4 9.5H2v-3h2a.5.5 0 0 0 .312-.11z" />
            </svg></a>
          <a id="continuarMusica" class="nav-link" onClick="playAudio()"><svg xmlns="http://www.w3.org/2000/svg"
              width="32" height="32" fill="#18bc9c" class="bi bi-volume-mute" viewBox="0 0 16 16">
              <path
                d="M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zM6 5.04 4.312 6.39A.5.5 0 0 1 4 6.5H2v3h2a.5.5 0 0 1 .312.11L6 10.96V5.04zm7.854.606a.5.5 0 0 1 0 .708L12.207 8l1.647 1.646a.5.5 0 0 1-.708.708L11.5 8.707l-1.646 1.647a.5.5 0 0 1-.708-.708L10.793 8 9.146 6.354a.5.5 0 1 1 .708-.708L11.5 7.293l1.646-1.647a.5.5 0 0 1 .708 0z" />
            </svg></a>
        </div>

      </div>
    </nav>
  </header>

  <div id="carouselExampleCaptions" class="carousel slide">
    <div class="carousel-indicators">
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"
        aria-current="true" aria-label="Slide 1"></button>
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
        aria-label="Slide 2"></button>
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
        aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="" class="bd-placeholder-img" id="image1" alt="...">
      </div>
      <div class="carousel-item">
        <img src="" class="bd-placeholder-img" id="image2" alt="...">
      </div>
      <div class="carousel-item">
        <img src="" class="bd-placeholder-img" id="image3" alt="...">
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
 
  <main class="p-5 mb-5">
    <div class="row p-3">
      <ol class="breadcrumb col-md-9">
          <li class="breadcrumb-item"><a href="../index.html">Home</a></li>
          <li class="breadcrumb-item"><a id="breadcrumb-brand" href="brand.html?brand=">Brand</a></li>
          <li class="breadcrumb-item active" id="breadcrumb-car">Car</li>
      </ol>
  </div>
    <div class="row justify-content-center p-2">
      <div class="col-md-8">
        <div class="mx-auto col-md-8 fw-bolder fs-3">
          <span id="brand"></span>
          <span id="model"></span>
          <span id="year"></span>
        </div>
        <h3 id="submodel" class="col-md-8 mx-auto text-muted"></h3>
        <div class="fs-4 text-center">
          <span id="rating" class="fw-bold"></span>
          <i class="car-info-icon fas fa-star text-success"></i>
          <span> (Trips)</span>
        </div>
        <div class="fs-5 text-center mt-2 row justify-content-center">
          <div class="col-md-6">
            <i class="car-info-icon fas fa-tachometer-alt text-success"></i>
            <span id="mileage"></span><span> km</span>
          </div>
          <div class="col-md-6">
            <i class="car-info-icon fas fa-gas-pump text-success"></i>
            <span id="fuelType"></span>
          </div>
        </div>
        <div class="fs-5 text-center mt-2 row justify-content-center">
          <div class="col-md-6">
            <i class="car-info-icon fas fa-horse-head text-success"></i>
            <span id="horsepower"></span>
          </div>
          <div class="col-md-6">
            <i class="car-info-icon fas fa-users text-success"></i>
            <span id="space"></span>
          </div>
        </div>
        <div class="col-md-12 text-secondary fw-semibold fs-3"></div>
        <div class="p-2">
          <div id="label1" class="mt-2 fw-bold text-success fs-4"></div>
          <div id="desc1" class="mt-2 text-primary fs-5"></div>
          <div id="label2" class="mt-2 fw-bold text-success fs-4"></div>
          <div id="desc2" class="mt-2 text-primary fs-5"></div>
          <div id="label3" class="mt-2 fw-bold text-success fs-4"></div>
          <div id="desc3" class="mt-2 text-primary fs-5"></div>
        </div>
      </div>
      <div class="col-md-4 text-center">
        <div class="mx-auto fs-3 fw-bold">
          <i class="car-info-icon fas fa-dollar-sign text-success"></i>
          <span id="price"></span>
          <span>/ day</span>
        </div>
        <hr>
        <div class="row">
          <div class="col">
            <div id="calendar"></div>
          </div>
          <div class="row justify-content-around mt-4"></div>
          <div class="col-md-6">
            <label for="start_date">Start Date:</label>
            <input class="form-control" disabled type="text" id="start_date">
          </div>
          <div class="col-md-6">
            <label for="end_date">End Date:</label>
            <input class="form-control" disabled type="text" id="end_date">
          </div>
        </div>
        <div class="p-4 mx-auto fs-2 fw-bold">
          <div class="col">
            <i class="car-info-icon fas fa-dollar-sign text-success"></i>
            <span id="pricetotal"></span>
            <span>/ total</span>
          </div>
          <div class="col">
            <button type="button" class="btn btn-primary" onClick="submitReservation()">Reservar</button>
          </div>
        </div>
      </div>
    </div>
  </main>
  <footer>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-bottom">
      <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
          aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav">
            <li class="nav-item dropup">
              <a class="nav-link dropdown-toggle" href="#" id="dropdown10" data-bs-toggle="dropdown"
                aria-expanded="false">Socials</a>
              <ul class="dropdown-menu" aria-labelledby="dropdown10">
                <li class="d-flex flex-row align-items-center m-1">Alexandre: <a class="dropdown-item container-fluid"
                    href="https://www.instagram.com/alex.mauricio21/" target="_blank"><img
                      src="../media/image/instagram.svg" alt="instagram"></a>
                  <a class="dropdown-item  container-fluid" href="https://github.com/AlexandreMauricio?tab=repositories"
                    target="_blank"><img src="../media/image/github.svg" alt="github"></a></li>
                <li><a class="dropdown-item" href="#">Manuel: </a></li>
                <li class="d-flex flex-row align-items-center m-1">João: <a class="dropdown-item container-fluid"
                    href="https://www.instagram.com/janecadias/" target="_blank"><img src="../media/image/instagram.svg"
                      alt="instagram"></a>
                  <a class="dropdown-item  container-fluid" href="https://github.com/JoaoDias28" target="_blank"><img
                      src="../media/image/github.svg" alt="github"></a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </footer>
</body>
<script src="../js/musica.js"></script>
<script src="../js/bootstrap.bundle.min.js"></script>
<script src="../js/cars.js"></script>
<script>
  window.onload = function () {

    var urlParams = new URLSearchParams(window.location.search);
    var id = urlParams.get('id');

    exibirDetalhes(id);

  }

  function exibirDetalhes(id) {
    var car = cars.find(function (car) {
      return car.id == id;
    });


    if (car) {

      document.getElementById("brand").innerHTML = car.brand;
      document.getElementById("model").innerHTML = car.model;
      document.getElementById("submodel").innerHTML = car.submodel;
      document.getElementById("year").innerHTML = car.year;
      document.getElementById("horsepower").innerHTML = car.horsepower;
      document.getElementById("fuelType").innerHTML = car.fuelType;
      document.getElementById("space").innerHTML = car.space;
      document.getElementById("mileage").innerHTML = car.mileage;
      document.getElementById("price").innerHTML = car.price;
      document.getElementById("rating").innerHTML = car.rating;
      document.getElementById("label1").innerHTML = car.aspects[0];
      document.getElementById("label2").innerHTML = car.aspects[1];
      document.getElementById("label3").innerHTML = car.aspects[2];
      document.getElementById("desc1").innerHTML = car.description[0];
      document.getElementById("desc2").innerHTML = car.description[1];
      document.getElementById("desc3").innerHTML = car.description[2];
      document.getElementById("image1").src = "../media/image/" + car.imageLocation[0];
      document.getElementById("image2").src = "../media/image/" + car.imageLocation[1];
      document.getElementById("image3").src = "../media/image/" + car.imageLocation[2];
      document.getElementById("breadcrumb-car").textContent = car.model + car.submodel + car.year;
      document.getElementById("breadcrumb-brand").href = "brand.html?brand="+car.brand;
      document.getElementById("breadcrumb-brand").textContent= car.brand;
    }
  }

  $(document).ready(function () {
    var startDate = null,
      endDate = null;
    var calendar = $('#calendar').fullCalendar({
      selectable: true,
      header: {
        left: 'prev,next today',
        center: 'title',
        right: 'month'
      },
      select: function (start, end) {
        startDate = moment(start);
        endDate = moment(end).subtract(1, 'days');

        var days = endDate.diff(startDate, 'days') + 1;
        var costPerDay = Number(document.getElementById("price").innerHTML);
        var totalCost = costPerDay * days;

        $('#start_date').val(startDate.format('DD-MM-YYYY'));
        $('#end_date').val(endDate.format('DD-MM-YYYY'));
        $('#pricetotal').text(totalCost);
      }
    });
  });


  function submitReservation() {

    var toast = document.createElement("div");
    toast.classList.add("toast-container");
    toast.classList.add("position-fixed");
    toast.classList.add("bottom-0");
    toast.classList.add("end-0");
    toast.classList.add("p-3");
    toast.innerHTML =
      '<div class="toast" role="alert" aria-live="assertive" aria-atomic="true">' +
      '<div class="toast-header">' +
      '<div class="bg-success rounded" style="width: 15px; height: 15px;"></div>' +
      '<strong class="me-auto">Reservation to be approved</strong>' +
      '<button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>' +
      '</div>' +
      '<div class="toast-body">Your reservation has started, please wait the owner of the vehicle will be in contact with you soon. Thank you for using our service. ;D</div>' +
      '</div>';
    document.body.appendChild(toast); // Append the new div to the DOM

    var toastGood = new bootstrap.Toast(document.querySelector('.toast'))
    toastGood.show()
    setTimeout(function () {
      toast.remove();
    }, 5000); // Remove the toast after 3 seconds
  }
</script>


</html>